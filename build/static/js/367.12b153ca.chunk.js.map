{"version":3,"file":"static/js/367.12b153ca.chunk.js","mappings":"4HAEO,MAAMA,EAAU,gC,iICwFvB,MA8FA,EA9FkBC,KAAO,IAADC,EACtB,MAAM,KAAEC,IAASC,EAAAA,EAAAA,OACVC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACpCC,EAAMC,IAAWF,EAAAA,EAAAA,YAIlBG,EAAU,CACdC,MAFD,QAFUT,EAAGU,KAAKC,MACjBC,aAAaC,QAAQ,kCACtB,IAAAb,OAAA,EAFaA,EAEXS,MAGD,eAAgB,qBAsBlBK,EAAAA,EAAAA,YAAU,KAdcC,WACtB,IACEX,GAAa,GACb,IAAIY,QAAqBC,EAAAA,EAAMC,IAAI,GAADC,OAAIrB,EAAAA,EAAO,wBAAAqB,OAAuBlB,GAAQ,CAC1EO,YAEFD,EAAoB,OAAZS,QAAY,IAAZA,OAAY,EAAZA,EAAcV,MACtBF,GAAa,EACf,CAAE,MAAOgB,GACPhB,GAAa,GACbiB,QAAQC,IAAIF,EACd,GAIAG,EAAiB,GACjB,IAkBF,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UAEEC,EAAAA,EAAAA,MAACC,EAAAA,GAAG,CACFC,QAAQ,OACRC,cAAc,SACdC,WAAW,SACXC,GAAG,QACHC,SAAS,WAAUP,SAAA,CAElBvB,IACCqB,EAAAA,EAAAA,KAACU,EAAAA,EAAM,CAACD,SAAS,WAAWE,MAAM,MAAMC,IAAI,OAAOC,MAAM,WAE3Db,EAAAA,EAAAA,KAACc,EAAAA,EAAM,CACLC,QA9BiBC,KACvB,MAAMC,EAASC,SAASC,eAAe,aAEnCF,IACEA,EAAOG,kBACTH,EAAOG,oBACEH,EAAOI,qBAChBJ,EAAOI,uBACEJ,EAAOK,wBAChBL,EAAOK,0BACEL,EAAOM,qBAChBN,EAAOM,sBAEX,EAkBMC,QAAQ,UACRC,GAAI,EACJhB,SAAS,WACTE,MAAM,MACNC,IAAI,OACJC,MAAM,QACNa,GAAG,UACHC,OAAQ,IAAKzB,SACd,gBAIDF,EAAAA,EAAAA,KAAA,UACE4B,MAAM,aACNC,IAAG,wCAAAlC,OAA8C,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMgD,SAAQ,oBAAAnC,OAAuB,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMiD,YAAW,aAAApC,OAAgB,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMkD,QAAO,eAAArC,OAAkB,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMmD,WAC5IC,MAAM,OACNC,OAAO,QACPC,iBAAe,EACfC,YAAY,IACZC,OAxEiBC,KACvB3D,GAAa,EAAM,EAuEYsB,SAC1B,eAIF,C","sources":["BaseUrl.jsx","components/PdfViewer.jsx"],"sourcesContent":["\r\n\r\nexport const baseUrl = \"https://backend.defencepost.in\"\r\n// export const baseUrl = \"http://localhost:8000\"","// import React, { useState } from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import { Navbar } from \"./Navbar\";\r\n// import { Box, Button, Spinner } from \"@chakra-ui/react\";\r\n// import { Spinar } from \"./Spinar\";\r\n// import { YourPDFComponent } from \"./YourPDFComponent\";\r\n\r\n// const PdfViewer = () => {\r\n//   const { link } = useParams();\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n\r\n//   const handleIframeLoad = () => {\r\n//     // This function will be called when the iframe has finished loading\r\n//     setIsLoading(false);\r\n//   };\r\n\r\n//   const handleFullScreen = () => {\r\n//     const iframe = document.getElementById(\"pdfIframe\");\r\n\r\n//     if (iframe) {\r\n//       if (iframe.requestFullscreen) {\r\n//         iframe.requestFullscreen();\r\n//       } else if (iframe.mozRequestFullScreen) {\r\n//         iframe.mozRequestFullScreen();\r\n//       } else if (iframe.webkitRequestFullscreen) {\r\n//         iframe.webkitRequestFullscreen();\r\n//       } else if (iframe.msRequestFullscreen) {\r\n//         iframe.msRequestFullscreen();\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       {/* <Navbar /> */}\r\n//       <Box\r\n//         display={\"flex\"}\r\n//         flexDirection=\"column\"\r\n//         alignItems=\"center\"\r\n//         mt={\"-50px\"}\r\n//         position={\"relative\"}\r\n//       >\r\n//         {isLoading && (\r\n//           <Spinar position=\"absolute\" right=\"0px\" top=\"40px\" color=\"white\" />\r\n//         )}\r\n//         <Button\r\n//           onClick={handleFullScreen}\r\n//           variant=\"outline\"\r\n//           mb={4}\r\n//           position={\"absolute\"}\r\n//           right=\"0px\"\r\n//           top={\"12px\"}\r\n//           color={\"white\"}\r\n//           bg={\"#313131\"}\r\n//           zIndex={1000}\r\n//         >\r\n//           Fullscreen\r\n//         </Button>\r\n//         <iframe\r\n//           id=\"pdfIframe\"\r\n//           title=\"PDF Viewer\"\r\n//           src={\r\n//             link.includes(\"drive\")\r\n//               ? `${decodeURIComponent(link)}`\r\n//               : `https://www.youtube.com/embed/${decodeURIComponent(link)}`\r\n//           }\r\n//           sandbox=\"allow-same-origin allow-scripts allow-popups\"\r\n//           width={\"100%\"}\r\n//           height={\"800px\"}\r\n//           allowFullScreen\r\n//           frameborder=\"0\"\r\n//           onLoad={handleIframeLoad}\r\n//         >\r\n//           iframe\r\n//         </iframe>\r\n//         {/* <YourPDFComponent/> */}\r\n//       </Box>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default PdfViewer;\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams} from \"react-router-dom\";\r\nimport { Box, Button, useQuery } from \"@chakra-ui/react\";\r\nimport { Spinar } from \"./Spinar\";\r\nimport { baseUrl } from \"../BaseUrl\";\r\nimport axios from \"axios\";\r\n\r\nconst PdfViewer = () => {\r\n  const { link } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState();\r\n  const token = JSON.parse(\r\n    localStorage.getItem(\"DefencePostUserDetails\")\r\n  )?.token;\r\n  const headers = {\r\n    token: token, // Replace with your actual authorization token\r\n    \"Content-Type\": \"application/json\", // Adjust content type as needed\r\n    // Add any other headers you need\r\n  };\r\n\r\n  const handleIframeLoad = () => {\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const getMyCourseData = async() => {\r\n    try {\r\n      setIsLoading(true);\r\n      let myCourseData = await axios.get(`${baseUrl}/file-upload/geturl/${link}`, {\r\n        headers,\r\n      });\r\n      setData(myCourseData?.data);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    getMyCourseData();\r\n  },[])\r\n\r\n  const handleFullScreen = () => {\r\n    const iframe = document.getElementById(\"pdfIframe\");\r\n\r\n    if (iframe) {\r\n      if (iframe.requestFullscreen) {\r\n        iframe.requestFullscreen();\r\n      } else if (iframe.mozRequestFullScreen) {\r\n        iframe.mozRequestFullScreen();\r\n      } else if (iframe.webkitRequestFullscreen) {\r\n        iframe.webkitRequestFullscreen();\r\n      } else if (iframe.msRequestFullscreen) {\r\n        iframe.msRequestFullscreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n     \r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        alignItems=\"center\"\r\n        mt=\"-50px\"\r\n        position=\"relative\"\r\n      >\r\n        {isLoading && (\r\n          <Spinar position=\"absolute\" right=\"0px\" top=\"40px\" color=\"white\" />\r\n        )}\r\n        <Button\r\n          onClick={handleFullScreen}\r\n          variant=\"outline\"\r\n          mb={4}\r\n          position=\"absolute\"\r\n          right=\"0px\"\r\n          top=\"12px\"\r\n          color=\"white\"\r\n          bg=\"#313131\"\r\n          zIndex={1000}\r\n        >\r\n          Fullscreen\r\n        </Button>\r\n        {/* \"https://defencepost.s3.amazonaws.com/uploads/2024-01-19T07-06-27_Booklet-1.pdf?AWSAccessKeyId=AKIAVRUVUOIZRIXBVWHZ&Expires=1705655963&Signature=PC46akZJtkHe1l3Hu%2BWlKKOHkSQ%3D\" */}\r\n        <iframe\r\n          title=\"PDF Viewer\"\r\n          src={`https://defencepost.s3.amazonaws.com/${data?.fileName}?AWSAccessKeyId=${data?.accessKeyId}&Expires=${data?.expires}&Signature=${data?.signature}`}\r\n          width=\"100%\"\r\n          height=\"800px\"\r\n          allowFullScreen\r\n          frameborder=\"0\"\r\n          onLoad={handleIframeLoad}\r\n        >\r\n          iframe\r\n        </iframe>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PdfViewer;\r\n"],"names":["baseUrl","PdfViewer","_JSON$parse","link","useParams","isLoading","setIsLoading","useState","data","setData","headers","token","JSON","parse","localStorage","getItem","useEffect","async","myCourseData","axios","get","concat","err","console","log","getMyCourseData","_jsx","_Fragment","children","_jsxs","Box","display","flexDirection","alignItems","mt","position","Spinar","right","top","color","Button","onClick","handleFullScreen","iframe","document","getElementById","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","variant","mb","bg","zIndex","title","src","fileName","accessKeyId","expires","signature","width","height","allowFullScreen","frameborder","onLoad","handleIframeLoad"],"sourceRoot":""}